{"ast":null,"code":"import _classCallCheck from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jay/Desktop/shopify_web_challenge/client/src/components/search/search.js\";\nimport React, { Component } from 'react';\nimport './search.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Table, Form, FormGroup, Label, Input, FormFeedback, FormText } from 'reactstrap';\nimport { Row, Col } from 'react-grid-system';\nimport searchIcon from '../../assets/search_icon.png';\nimport axios from 'axios';\n\nvar search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(search, _React$Component);\n\n  function search(props) {\n    var _this;\n\n    _classCallCheck(this, search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(search).call(this, props));\n\n    _this.handleSearchChange = function () {\n      var searchQuery = _this._search.value;\n\n      if (searchQuery.length === 0) {\n        _this.props.clearSearch();\n      }\n    };\n\n    _this.handleSubmit = function (event) {\n      var searchQuery = _this._search.value;\n\n      if (searchQuery.length > 0) {\n        _this.setState({\n          invalidSearch: null\n        });\n\n        event.preventDefault();\n        var reactData = {\n          \"title\": searchQuery\n        };\n        axios.post(\"/\", reactData).then(function (res) {\n          for (var favouriteItem in _this.props.favouritesListToSearch) {\n            for (var item in res.data) {\n              if (_this.props.favouritesListToSearch[favouriteItem].title === res.data[item].title) {\n                res.data[item].isFavourite = true;\n              }\n            }\n          }\n\n          _this.props.onSearched(res.data, searchQuery);\n        }).catch(function (err) {\n          return console.log(err.data);\n        });\n      } else {\n        _this.setState({\n          invalidSearch: true\n        });\n      }\n    };\n\n    _this.state = {\n      invalidSearch: null\n    };\n    return _this;\n  }\n\n  _createClass(search, [{\n    key: \"enterPressed\",\n    value: function enterPressed(event) {\n      var code = event.keyCode || event.which;\n\n      if (code === 13) {\n        this.handleSubmit(event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Row, {\n        className: \"search-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 11,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        className: \"search-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Input, {\n        required: true,\n        type: \"text\",\n        className: \"search-input\",\n        invalid: this.state.invalidSearch,\n        placeholder: \"Search waste item by keyword...\",\n        innerRef: function innerRef(node) {\n          return _this2._search = node;\n        },\n        onKeyPress: this.enterPressed.bind(this),\n        onChange: this.handleSearchChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(FormFeedback, {\n        className: \"invalid-search-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"You can't leave this empty.\"))), React.createElement(Col, {\n        sm: 1,\n        className: \"search-button-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"search-button\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: searchIcon,\n        className: \"search-button-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return search;\n}(React.Component);\n\nexport default search;","map":{"version":3,"sources":["/Users/jay/Desktop/shopify_web_challenge/client/src/components/search/search.js"],"names":["React","Component","Button","Table","Form","FormGroup","Label","Input","FormFeedback","FormText","Row","Col","searchIcon","axios","search","props","handleSearchChange","searchQuery","_search","value","length","clearSearch","handleSubmit","event","setState","invalidSearch","preventDefault","reactData","post","then","res","favouriteItem","favouritesListToSearch","item","data","title","isFavourite","onSearched","catch","err","console","log","state","code","keyCode","which","node","enterPressed","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './search.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Table, Form, FormGroup, Label, Input, FormFeedback, FormText } from 'reactstrap';\nimport { Row, Col } from 'react-grid-system';\nimport searchIcon from'../../assets/search_icon.png';\n\nimport axios from 'axios';\n\nclass search extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      invalidSearch: null,\n     }\n  }\n\n  handleSearchChange = () => {\n    const searchQuery = this._search.value;\n    if (searchQuery.length === 0) {\n      this.props.clearSearch();\n    }\n  };\n\n  enterPressed(event) {\n    var code = event.keyCode || event.which;\n    if(code === 13) {\n        this.handleSubmit(event);\n    } \n  }\n\n  handleSubmit = event => {\n    var searchQuery = this._search.value;\n    if (searchQuery.length > 0) {\n      this.setState({\n        invalidSearch: null\n      })\n      event.preventDefault();\n      const reactData = {\"title\": searchQuery};\n      axios.post(\"/\", reactData)\n        .then(res => {\n          for (var favouriteItem in this.props.favouritesListToSearch) {\n            for (var item in res.data) {\n              if(this.props.favouritesListToSearch[favouriteItem].title === res.data[item].title) {\n                res.data[item].isFavourite = true;\n              }\n            }\n          }\n          this.props.onSearched(res.data, searchQuery);  \n        })\n       .catch(err => console.log(err.data))\n    }\n    else {\n      this.setState({\n        invalidSearch: true\n      })\n    }\n  }\n\n  render() {\n    return (\n      <Row className=\"search-row\">\n        <Col sm={11}>\n          <FormGroup className=\"search-form\">\n            <Input required type=\"text\" className=\"search-input\" invalid={this.state.invalidSearch} placeholder=\"Search waste item by keyword...\" innerRef={(node) => this._search = node} onKeyPress={this.enterPressed.bind(this)} onChange={this.handleSearchChange}/>\n            <FormFeedback className=\"invalid-search-alert\">You can't leave this empty.</FormFeedback>\n          </FormGroup>\n        </Col>\n        <Col sm={1} className=\"search-button-col\">\n          <Button className=\"search-button\" onClick={this.handleSubmit}>\n            <img src={searchIcon} className=\"search-button-icon\"/>\n          </Button>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default search;"]},"metadata":{},"sourceType":"module"}