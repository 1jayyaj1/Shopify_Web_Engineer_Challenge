{"ast":null,"code":"import _classCallCheck from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jay/Desktop/shopify_web_challenge/client/src/components/search/search.js\";\nimport React, { Component } from 'react';\nimport './search.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Table, Form, FormGroup, Label, Input, FormFeedback, FormText } from 'reactstrap';\nimport { Container, Row, Col } from 'react-grid-system';\nimport searchIcon from '../../assets/search_icon.png';\nimport axios from 'axios';\n\nvar search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(search, _React$Component);\n\n  function search(props) {\n    var _this;\n\n    _classCallCheck(this, search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(search).call(this, props));\n\n    _this.handleSubmit = function (event) {\n      var searchQuery = _this._search.value;\n\n      if (searchQuery.length > 0) {\n        event.preventDefault();\n        var reactData = {\n          \"title\": searchQuery\n        };\n        axios.post(\"/\", reactData).then(function (res) {\n          console.log(res.data);\n\n          for (var favouriteItem in _this.props.onFavouriteListed) {\n            for (var item in res.data) {\n              if (_this.props.onFavouriteListed[favouriteItem].title === res.data[item].title) {\n                res.data[item].isFavourite = true;\n              }\n            }\n          }\n\n          _this.props.onSearched(res.data, searchQuery);\n        }).catch(function (err) {\n          return console.log(err.data);\n        });\n      } else {\n        _this.setState({});\n      }\n    };\n\n    _this.searchedKeyword = function () {\n      var searchQuery = _this._search.value;\n\n      _this.props.onSearched(searchQuery);\n    };\n\n    _this.state = {\n      validSearch: null,\n      searchResultAlert: \"Get started by searching waste items\"\n    };\n    return _this;\n  }\n\n  _createClass(search, [{\n    key: \"enterPressed\",\n    value: function enterPressed(event) {\n      var code = event.keyCode || event.which;\n\n      if (code === 13) {\n        this.handleSubmit(event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Row, {\n        className: \"searchRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 11,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        className: \"searchBoxParent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        className: \"searchBox\",\n        valid: this.state.validSearch,\n        placeholder: \"Search waste items by keyword...\",\n        innerRef: function innerRef(node) {\n          return _this2._search = node;\n        },\n        onKeyPress: this.enterPressed.bind(this),\n        onChange: this.handleSearchChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(FormFeedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Please search for a keyword.\"))), React.createElement(Col, {\n        sm: 1,\n        className: \"searchButtonParent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"searchButton\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: searchIcon,\n        className: \"searchButtonIcon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return search;\n}(React.Component);\n\nexport default search;","map":{"version":3,"sources":["/Users/jay/Desktop/shopify_web_challenge/client/src/components/search/search.js"],"names":["React","Component","Button","Table","Form","FormGroup","Label","Input","FormFeedback","FormText","Container","Row","Col","searchIcon","axios","search","props","handleSubmit","event","searchQuery","_search","value","length","preventDefault","reactData","post","then","res","console","log","data","favouriteItem","onFavouriteListed","item","title","isFavourite","onSearched","catch","err","setState","searchedKeyword","state","validSearch","searchResultAlert","code","keyCode","which","node","enterPressed","bind","handleSearchChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './search.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Table, Form, FormGroup, Label, Input, FormFeedback, FormText } from 'reactstrap';\nimport { Container, Row, Col } from 'react-grid-system';\nimport searchIcon from'../../assets/search_icon.png';\n\nimport axios from 'axios';\n\nclass search extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      validSearch: null,\n      searchResultAlert: \"Get started by searching waste items\"\n     }\n  }\n\n  enterPressed(event) {\n    var code = event.keyCode || event.which;\n    if(code === 13) {\n        this.handleSubmit(event);\n    } \n  }\n\n  handleSubmit = event => {\n    var searchQuery = this._search.value;\n    if (searchQuery.length > 0) {\n      event.preventDefault();\n      const reactData = {\"title\": searchQuery};\n      axios.post(\"/\", reactData)\n        .then(res => {\n          console.log(res.data)\n          for (var favouriteItem in this.props.onFavouriteListed) {\n            for (var item in res.data) {\n              if(this.props.onFavouriteListed[favouriteItem].title === res.data[item].title) {\n                res.data[item].isFavourite = true;\n              }\n            }\n          }\n          this.props.onSearched(res.data, searchQuery);  \n        })\n       .catch(err => console.log(err.data))\n    }\n    else {\n      this.setState({\n      })\n    }\n  }\n\n  searchedKeyword = () => {\n    var searchQuery = this._search.value;\n    this.props.onSearched(searchQuery);            \n  }\n\n  render() {\n    return (\n      <Row className=\"searchRow\">\n        <Col sm={11}>\n          <FormGroup className=\"searchBoxParent\">\n            <Input type=\"text\" className=\"searchBox\" valid={this.state.validSearch} placeholder=\"Search waste items by keyword...\" innerRef={(node) => this._search = node} onKeyPress={this.enterPressed.bind(this)} onChange={this.handleSearchChange}/>\n            <FormFeedback>Please search for a keyword.</FormFeedback>\n          </FormGroup>\n        </Col>\n        <Col sm={1} className=\"searchButtonParent\">\n          <Button className=\"searchButton\" onClick={this.handleSubmit}>\n            <img src={searchIcon} className=\"searchButtonIcon\"/>\n          </Button>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default search;"]},"metadata":{},"sourceType":"module"}