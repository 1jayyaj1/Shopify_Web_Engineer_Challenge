{"ast":null,"code":"import _toConsumableArray from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jay/Desktop/shopify_web_challenge/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jay/Desktop/shopify_web_challenge/client/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Search from './components/search/search.js';\nimport { Button, Table, Form, FormGroup, Label, Input, FormFeedback, FormText } from 'reactstrap';\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\nimport { Container, Row, Col } from 'react-grid-system';\nimport searchIcon from './assets/search_icon.png';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport axios from 'axios';\nlibrary.add(faStar);\n\nvar decode = require('decode-html');\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.starClicked = function (favouriteIncoming) {\n      if (favouriteIncoming.isFavourite === false) {\n        var favourite = {\n          id: _this.state.favouritesList.length,\n          title: favouriteIncoming.title,\n          body: favouriteIncoming.body,\n          isFavourite: !favouriteIncoming.isFavourite\n        };\n        favouriteIncoming.isFavourite = true;\n\n        _this.setState({\n          favouritesList: [].concat(_toConsumableArray(_this.state.favouritesList), [favourite])\n        });\n      }\n    };\n\n    _this.unFavourite = function (favouriteOutgoing, index) {\n      _this.state.searchResults.forEach(function (searchResult) {\n        if (searchResult.title === favouriteOutgoing.title) {\n          searchResult.isFavourite = false;\n        }\n      });\n\n      favouriteOutgoing.isFavourite = false;\n\n      var favouritesList = _toConsumableArray(_this.state.favouritesList);\n\n      favouritesList.splice(index, 1);\n\n      _this.setState({\n        favouritesList: favouritesList\n      });\n    };\n\n    _this.handleSearchChange = function () {\n      var searchQuery = _this._search.value;\n\n      if (searchQuery.length === 0) {\n        _this.setState({\n          searchResults: [],\n          searchResultAlert: \"Get started by searching waste items\"\n        });\n      }\n    };\n\n    _this.createMarkup = function (encodedHTML) {\n      return {\n        __html: decode(encodedHTML)\n      };\n    };\n\n    _this.handleSubmit = function (event) {\n      var searchQuery = _this._search.value;\n\n      if (searchQuery.length > 0) {\n        event.preventDefault();\n        var reactData = {\n          \"title\": searchQuery\n        };\n        axios.post(\"/\", reactData).then(function (res) {\n          console.log(res.data);\n\n          for (var favouriteItem in _this.state.favouritesList) {\n            for (var item in res.data) {\n              if (_this.state.favouritesList[favouriteItem].title === res.data[item].title) {\n                res.data[item].isFavourite = true;\n              }\n            }\n          }\n\n          _this.setState({\n            searchResults: res.data\n          });\n\n          if (res.data.length === 0) {\n            _this.setState({\n              searchResultAlert: \"Your search \\\"\" + searchQuery + \"\\\" did not match any waste items\"\n            });\n          }\n        }).catch(function (err) {\n          return console.log(err.data);\n        });\n      } else {\n        _this.setState({});\n      }\n    };\n\n    _this.state = {\n      starColor: \"#aaaaaa\",\n      searchResults: [],\n      favouritesList: [],\n      validSearch: null,\n      searchResultAlert: \"Get started by searching waste items\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"enterPressed\",\n    value: function enterPressed(event) {\n      var code = event.keyCode || event.which;\n\n      if (code === 13) {\n        this.handleSubmit(event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"mainHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 12,\n        className: \"textMainHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Toronto Waste Lookup\")), React.createElement(\"div\", {\n        className: \"mainBody\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Search, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Table, {\n        borderless: true,\n        className: \"resultTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.state.searchResults.length === 0 && React.createElement(\"label\", {\n        className: \"emptyListAlert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, this.state.searchResultAlert), this.state.searchResults.map(function (searchResult, index) {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"searchResultsRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(Col, {\n          sm: 5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(Row, {\n          className: \"resultTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, searchResult.isFavourite === false && React.createElement(Button, {\n          className: \"starButton\",\n          onClick: function onClick() {\n            return _this2.starClicked(searchResult, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(\"svg\", {\n          width: \"18\",\n          height: \"18\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          className: \"startIcon\",\n          icon: \"star\",\n          color: \"#aaaaaa\",\n          size: \"2x\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }))), searchResult.isFavourite === true && React.createElement(\"div\", {\n          className: \"greenStar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"svg\", {\n          width: \"18\",\n          height: \"18\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          className: \"startIcon\",\n          icon: \"star\",\n          color: \"#22975e\",\n          size: \"2x\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }))), React.createElement(\"label\", {\n          className: \"searchResultTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, searchResult.title))), React.createElement(Col, {\n          sm: 7,\n          className: \"instructionList\",\n          dangerouslySetInnerHTML: _this2.createMarkup(searchResult.body),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }))));\n      })))), React.createElement(Row, {\n        className: \"favouritesHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 2,\n        className: \"textFavouritesHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Favourites\")), React.createElement(Row, {\n        className: \"favouritesList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Table, {\n        borderless: true,\n        className: \"resultTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, this.state.favouritesList.length === 0 && React.createElement(\"label\", {\n        className: \"emptyListAlert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Star your favourite waste items\"), this.state.favouritesList.map(function (favourite, index) {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"searchResultsRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(Col, {\n          sm: 5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(Row, {\n          className: \"resultTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"starButton\",\n          onClick: function onClick() {\n            return _this2.unFavourite(favourite, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"svg\", {\n          width: \"18\",\n          height: \"18\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          className: \"startIcon\",\n          icon: \"star\",\n          color: \"#22975e\",\n          size: \"2x\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }))), React.createElement(\"label\", {\n          className: \"searchResultTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, favourite.title))), React.createElement(Col, {\n          sm: 7,\n          className: \"instructionList\",\n          dangerouslySetInnerHTML: _this2.createMarkup(favourite.body),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }))));\n      }))))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/jay/Desktop/shopify_web_challenge/client/src/App.js"],"names":["React","Component","Search","Button","Table","Form","FormGroup","Label","Input","FormFeedback","FormText","AvForm","AvField","Container","Row","Col","searchIcon","library","faStar","FontAwesomeIcon","axios","add","decode","require","App","props","starClicked","favouriteIncoming","isFavourite","favourite","id","state","favouritesList","length","title","body","setState","unFavourite","favouriteOutgoing","index","searchResults","forEach","searchResult","splice","handleSearchChange","searchQuery","_search","value","searchResultAlert","createMarkup","encodedHTML","__html","handleSubmit","event","preventDefault","reactData","post","then","res","console","log","data","favouriteItem","item","catch","err","starColor","validSearch","code","keyCode","which","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Search from './components/search/search.js'\nimport { Button, Table, Form, FormGroup, Label, Input, FormFeedback, FormText } from 'reactstrap';\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\nimport { Container, Row, Col } from 'react-grid-system';\nimport searchIcon from'./assets/search_icon.png';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport axios from 'axios';\n\nlibrary.add(faStar);\n\nvar decode = require('decode-html');\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      starColor: \"#aaaaaa\",\n      searchResults: [],\n      favouritesList: [],\n      validSearch: null,\n      searchResultAlert: \"Get started by searching waste items\"\n     }\n  }\n\n  starClicked = (favouriteIncoming) => {\n    if (favouriteIncoming.isFavourite === false) {\n      const favourite = {\n        id: this.state.favouritesList.length,\n        title: favouriteIncoming.title,\n        body: favouriteIncoming.body,\n        isFavourite: !favouriteIncoming.isFavourite\n      };\n      favouriteIncoming.isFavourite = true;\n      this.setState({\n        favouritesList: [...this.state.favouritesList, favourite]\n      })\n    }\n  };\n\n  unFavourite = (favouriteOutgoing, index) => {\n    this.state.searchResults.forEach(function(searchResult) {\n      if (searchResult.title === favouriteOutgoing.title) {\n        searchResult.isFavourite = false;\n      }\n    });\n    favouriteOutgoing.isFavourite = false;\n    const favouritesList = [...this.state.favouritesList]\n    favouritesList.splice(index, 1)\n    this.setState({ favouritesList })\n  };\n\n  handleSearchChange = () => {\n    const searchQuery = this._search.value;\n    if (searchQuery.length === 0) {\n      this.setState({\n        searchResults: [],\n        searchResultAlert: \"Get started by searching waste items\",\n      })\n    }\n  };\n\n  enterPressed(event) {\n    var code = event.keyCode || event.which;\n    if(code === 13) {\n        this.handleSubmit(event);\n    } \n  }\n\n  createMarkup = (encodedHTML) => {\n    return {__html: decode(encodedHTML)};\n  };\n\n  handleSubmit = event => {\n    var searchQuery = this._search.value;\n    if (searchQuery.length > 0) {\n      event.preventDefault();\n      const reactData = {\"title\": searchQuery};\n      axios.post(\"/\", reactData)\n        .then(res => {\n          console.log(res.data)\n          for (var favouriteItem in this.state.favouritesList) {\n            for (var item in res.data) {\n              if(this.state.favouritesList[favouriteItem].title === res.data[item].title) {\n                res.data[item].isFavourite = true;\n              }\n            }\n          }\n          this.setState({ searchResults: res.data });\n          if (res.data.length === 0) {\n            this.setState({\n              searchResultAlert: \"Your search \\\"\" + searchQuery + \"\\\" did not match any waste items\"\n            })\n          }\n        })\n       .catch(err => console.log(err.data))\n    }\n    else {\n      this.setState({\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n          <Row className=\"mainHeader\">\n            <Col sm={12} className=\"textMainHeader\">\n              Toronto Waste Lookup\n            </Col>\n          </Row>\n          <div className=\"mainBody\">\n            <Search/>\n            <Row>\n              <Table borderless className=\"resultTable\">\n                <tbody>\n                  {this.state.searchResults.length === 0 &&\n                    <label className=\"emptyListAlert\">{this.state.searchResultAlert}</label>\n                  }\n                  {this.state.searchResults.map((searchResult, index) => \n                    <tr key={index}>\n                      <td className=\"searchResultsRow\">\n                        <Row>\n                          <Col sm={5}>\n                            <Row className=\"resultTitle\">\n                                {searchResult.isFavourite === false &&\n                                  <Button className=\"starButton\" onClick={() => this.starClicked(searchResult, index)}>\n                                          <svg width=\"18\" height=\"18\">\n                                            <FontAwesomeIcon\n                                              className=\"startIcon\"\n                                              icon=\"star\"\n                                              color=\"#aaaaaa\"\n                                              size=\"2x\"\n                                            />\n                                          </svg>\n                                  </Button>\n                                }\n                                {searchResult.isFavourite === true &&\n                                  <div className=\"greenStar\">\n                                    <svg width=\"18\" height=\"18\">\n                                      <FontAwesomeIcon\n                                        className=\"startIcon\"\n                                        icon=\"star\"\n                                        color=\"#22975e\"\n                                        size=\"2x\"\n                                      />\n                                    </svg>\n                                  </div>\n                                }\n                                <label className=\"searchResultTitle\">\n                                  {searchResult.title}\n                                </label>\n                            </Row>\n                          </Col>\n                          <Col sm={7} className=\"instructionList\" dangerouslySetInnerHTML={this.createMarkup(searchResult.body)}>\n                          </Col>\n                        </Row> \n                      </td>\n                    </tr> \n                  )}\n                </tbody>\n              </Table>\n            </Row>\n            <Row className=\"favouritesHeader\">\n              <Col sm={2} className=\"textFavouritesHeader\">\n                Favourites\n              </Col>\n            </Row>\n            <Row className=\"favouritesList\">\n              <Table borderless className=\"resultTable\">\n                <tbody>\n                  {this.state.favouritesList.length === 0 &&\n                    <label className=\"emptyListAlert\">Star your favourite waste items</label>\n                  }\n                  {this.state.favouritesList.map((favourite, index) => \n                    <tr key={index}>\n                      <td className=\"searchResultsRow\">\n                        <Row>\n                          <Col sm={5}>\n                            <Row className=\"resultTitle\">\n                                <Button className=\"starButton\" onClick={() => this.unFavourite(favourite, index)}>\n                                  <svg width=\"18\" height=\"18\">\n                                    <FontAwesomeIcon\n                                      className=\"startIcon\"\n                                      icon=\"star\"\n                                      color=\"#22975e\"\n                                      size=\"2x\"\n                                    />\n                                  </svg>\n                                </Button>\n                                <label className=\"searchResultTitle\">\n                                  {favourite.title}\n                                </label>\n                            </Row>\n                          </Col>\n                            <Col sm={7} className=\"instructionList\" dangerouslySetInnerHTML={this.createMarkup(favourite.body)}>\n                          </Col>\n                        </Row> \n                      </td>\n                    </tr> \n                  )}\n                </tbody>\n              </Table>\n            </Row>\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}